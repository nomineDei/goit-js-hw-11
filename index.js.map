{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = \"51334256-c1710c37c982a8ca30afac428\";\n\nexport default function getImagesByQuery(query) {\n\n   return axios(`https://pixabay.com/api/`, {\n        params:\n        { key: API_KEY,\n         q: query,\n         image_type: \"photo\",\n         orientation: \"horizontal\",\n         safesearch: true }\n    })\n        .then(res => {\n            return res.data.hits;\n        })\n        .catch(error => {\n            return [];\n    })\n\n}","import SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport \"../css/gallery.css\"\n\nconst gallery = document.querySelector(\".gallery\")\nlet lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionsDelay: 250,\n})\n\nexport function createGallery(images) {\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n     <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n             class=\"gallery-image\"\n             src=\"${webformatURL}\"\n             alt=\"${tags}\"\n             width=\"360\"\n            />\n        </a>\n        <div class=\"image-info\">\n            <p><b>Likes</b> ${likes}</p>\n            <p><b>Views</b> ${views}</p>\n            <p><b>Comments</b> ${comments}</p>\n            <p><b>Downloads</b> ${downloads}</p>\n        </div>\n    </li>\n    `).join(\"\");\n\n    gallery.innerHTML = markup;\n\n    lightbox.refresh();\n}\n\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n}\n\nexport function showLoader() {\n  document.querySelector('.loader').classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  document.querySelector('.loader').classList.add('is-hidden');\n}","import getImagesByQuery from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", handleSubmit)\n\nfunction handleSubmit(event) {\n    clearGallery();\n    event.preventDefault();\n\n    \n    showLoader();\n\n    const query = event.currentTarget.elements.searchText;\n    const trimmeredQuery = query.value.trim();\n\n    if (trimmeredQuery === \"\") {\n        iziToast.info({\n            title: \"Please!\",\n            message: \"Enter request!\",\n            position: \"topRight\",\n            timeout: 3000,\n        });\n        query.value = '';\n        hideLoader();\n        return;\n    }\n\n    getImagesByQuery(trimmeredQuery)\n        .then(result => {\n            if (result.length === 0) {\n                throw new Error('No result');\n            }\n            createGallery(result);\n            \n        })\n        .catch(error => {\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: 'topRight',\n                timeout: 3000,\n            });\n        })\n        .finally(() => {\n            hideLoader();\n            query.value = '';\n    })\n    \n}\n"],"names":["API_KEY","getImagesByQuery","query","axios","res","error","gallery","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","handleSubmit","event","trimmeredQuery","iziToast","result"],"mappings":"owBAEA,MAAMA,EAAU,qCAED,SAASC,EAAiBC,EAAO,CAE7C,OAAOC,EAAM,2BAA4B,CACpC,OACA,CAAE,IAAKH,EACN,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAAM,CAC3B,CAAK,EACI,KAAKE,GACKA,EAAI,KAAK,IACnB,EACA,MAAMC,GACI,EACd,CAEL,CChBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,SAAU,GACV,aAAc,MACd,cAAe,GACnB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,wCAEpEL,CAAa;AAAA;AAAA;AAAA,oBAGjCD,CAAY;AAAA,oBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKMC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA;AAAA,KAGtC,EAAE,KAAK,EAAE,EAEVZ,EAAQ,UAAYK,EAEpBJ,EAAS,QAAO,CACpB,CAGO,SAASY,GAAe,CAC3Bb,EAAQ,UAAY,GAEpB,OAAO,SAAS,CACd,IAAK,EACL,SAAU,QAChB,CAAK,CACL,CAEO,SAASc,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,WAAW,CAChE,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,WAAW,CAC7D,CC/CA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBL,IACAK,EAAM,eAAc,EAGpBJ,IAEA,MAAMlB,EAAQsB,EAAM,cAAc,SAAS,WACrCC,EAAiBvB,EAAM,MAAM,KAAI,EAEvC,GAAIuB,IAAmB,GAAI,CACvBC,EAAS,KAAK,CACV,MAAO,UACP,QAAS,iBACT,SAAU,WACV,QAAS,GACrB,CAAS,EACDxB,EAAM,MAAQ,GACdmB,IACA,MACH,CAEDpB,EAAiBwB,CAAc,EAC1B,KAAKE,GAAU,CACZ,GAAIA,EAAO,SAAW,EAClB,MAAM,IAAI,MAAM,WAAW,EAE/BlB,EAAckB,CAAM,CAEhC,CAAS,EACA,MAAMtB,GAAS,CACZqB,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,QAAS,GACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXL,IACAnB,EAAM,MAAQ,EAC1B,CAAK,CAEL"}