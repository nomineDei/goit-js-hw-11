{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = \"51334256-c1710c37c982a8ca30afac428\";\n\nexport default function getImagesByQuery(query) {\n\n    const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n    })\n\n    return axios(`https://pixabay.com/api/?${params}`);\n\n}","import SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport \"../css/gallery.css\"\n\nconst gallery = document.querySelector(\".gallery\")\nlet lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionsDelay: 250,\n})\n\nexport function createGallery(images) {\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n     <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n             class=\"gallery-image\"\n             src=\"${webformatURL}\"\n             alt=\"${tags}\"\n             width=\"360\"\n            />\n        </a>\n        <div class=\"image-info\">\n            <p><b>Likes</b> ${likes}</p>\n            <p><b>Views</b> ${views}</p>\n            <p><b>Comments</b> ${comments}</p>\n            <p><b>Downloads</b> ${downloads}</p>\n        </div>\n    </li>\n    `).join(\"\");\n\n    gallery.innerHTML = markup;\n\n    lightbox.refresh();\n}\n\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n}\n\nexport function showLoader() {\n  document.querySelector('.loader').classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  document.querySelector('.loader').classList.add('is-hidden');\n}","import getImagesByQuery from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\")\n\nform.addEventListener(\"submit\", handleSubmit)\n\nfunction handleSubmit(event) {\n    clearGallery();\n    event.preventDefault();\n\n    \n    showLoader();\n\n    const query = event.currentTarget.elements.searchText;\n\n    getImagesByQuery(query.value)\n        .then(response => {\n            if (response.data.hits.length === 0) {\n                throw new Error('No result');\n            }\n            createGallery(response.data.hits);\n            \n        })\n        .catch(error => {\n            console.error(error);\n            \n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: 'topRight',\n                timeout: 3000,\n            });\n        })\n        .finally(() => {\n            hideLoader();\n            query.value = '';\n    })\n    \n}\n"],"names":["API_KEY","getImagesByQuery","query","params","axios","gallery","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","handleSubmit","event","response","error","iziToast"],"mappings":"owBAEA,MAAMA,EAAU,qCAED,SAASC,EAAiBC,EAAO,CAE5C,MAAMC,EAAS,IAAI,gBAAgB,CACnC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAK,EAED,OAAOE,EAAM,4BAA4BD,CAAM,EAAE,CAErD,CCXA,MAAME,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,SAAU,GACV,aAAc,MACd,cAAe,GACnB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,wCAEpEL,CAAa;AAAA;AAAA;AAAA,oBAGjCD,CAAY;AAAA,oBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKMC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA;AAAA,KAGtC,EAAE,KAAK,EAAE,EAEVZ,EAAQ,UAAYK,EAEpBJ,EAAS,QAAO,CACpB,CAGO,SAASY,GAAe,CAC3Bb,EAAQ,UAAY,GAEpB,OAAO,SAAS,CACd,IAAK,EACL,SAAU,QAChB,CAAK,CACL,CAEO,SAASc,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,WAAW,CAChE,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,WAAW,CAC7D,CC/CA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAC3B,SAAS,cAAc,UAAU,EAEjDA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBL,IACAK,EAAM,eAAc,EAGpBJ,IAEA,MAAMjB,EAAQqB,EAAM,cAAc,SAAS,WAE3CtB,EAAiBC,EAAM,KAAK,EACvB,KAAKsB,GAAY,CACd,GAAIA,EAAS,KAAK,KAAK,SAAW,EAC9B,MAAM,IAAI,MAAM,WAAW,EAE/BhB,EAAcgB,EAAS,KAAK,IAAI,CAE5C,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAMA,CAAK,EAEnBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,QAAS,GACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXN,IACAlB,EAAM,MAAQ,EAC1B,CAAK,CAEL"}